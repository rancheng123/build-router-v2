xbn().module("friendRaise2",function(X){
//朋友众筹基类
function FriendRaise2(){}FriendRaise2.prototype={
//发起
launch:function(){var testData=[];
//请求模板
X.view.renderTmpl({url:"./template/friendRaise_2.html",where:$("#midBox"),renderData:{list:testData}}).then(function(){
//注册事件
eventSystem.on("friendRaise","imgLength_change",function(){if($("#pic-list-pictrue img").length>=3){$("#upload-pictrue").hide()}else{$("#upload-pictrue").show()}});
//删除图片
$("#pic-list-pictrue").on("click",".js-del-icon",function(){$(this).closest("li").remove();eventSystem.trigger("friendRaise","imgLength_change")});
//普通图片
var cover_fileInput=R_fileUpload.init({where:$("#upload-pictrue"),url:"/common/image/upload-image",formData:{PHPSESSID:"fto6uk3ignmlf820ra9o9aqmv7",dealID:"1cb4d78eda49c1fb3bfeb8ea",type:"7"},FileTypes:{rule:"(gif|jpe?g|png)",error:"图片只能是 jpg,jpeg,gif,png 格式"},
//文件大小限制
FileSizeLimit:{rule:1024*1024*2,error:"文件大小不能超过2M"},success:function(e,data){var src=data.result.dat.img_url;
//添加图片
dataUtil.renderData({render:function(i,ele){return'<li class="js-del-item">'+'<img src="'+src+'" alt="">'+'<span class="del js-del-icon"></span>'+"</li>"},where:$("#pic-list-pictrue")});eventSystem.trigger("friendRaise","imgLength_change")}});
//验证插件初始化
Validator.init({where:$("#secondStepForm"),
//代表参与验证
valiFlag:"vali-yes"}).scan();
//发起完成
$("#faqi-submit").off("click").click(function(){var res=$("#secondStepForm").valid();/*测试start*/
//res = true;
//idCardIsAuth = 1;
/*测试end*/
if(res){
//是否身份验证  1 认证过  0 未认证
if(idCardIsAuth){
//保存发起项目
saveProject()}else{that.thirdStep()}}})})}};var friendRaiseCase=new FriendRaise2;friendRaiseCase[router.cache.currentRoute.action]()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L3Rlc3QvYnVpbGQtcm91dGVyODg4OC9idWlsZC1yb3V0ZXIvY29kZS9zcmMvanMvbW9kdWxlcy9mcmllbmRSYWlzZTIuanMiXSwibmFtZXMiOlsieGJuIiwibW9kdWxlIiwiWCIsIkZyaWVuZFJhaXNlMiIsInByb3RvdHlwZSIsImxhdW5jaCIsInRlc3REYXRhIiwidmlldyIsInJlbmRlclRtcGwiLCJ1cmwiLCJ3aGVyZSIsIiQiLCJyZW5kZXJEYXRhIiwibGlzdCIsInRoZW4iLCJldmVudFN5c3RlbSIsIm9uIiwibGVuZ3RoIiwiaGlkZSIsInNob3ciLCJ0aGlzIiwiY2xvc2VzdCIsInJlbW92ZSIsInRyaWdnZXIiLCJjb3Zlcl9maWxlSW5wdXQiLCJSX2ZpbGVVcGxvYWQiLCJpbml0IiwiZm9ybURhdGEiLCJQSFBTRVNTSUQiLCJkZWFsSUQiLCJ0eXBlIiwiRmlsZVR5cGVzIiwicnVsZSIsImVycm9yIiwiRmlsZVNpemVMaW1pdCIsInN1Y2Nlc3MiLCJlIiwiZGF0YSIsInNyYyIsInJlc3VsdCIsImRhdCIsImltZ191cmwiLCJkYXRhVXRpbCIsInJlbmRlciIsImkiLCJlbGUiLCJWYWxpZGF0b3IiLCJ2YWxpRmxhZyIsInNjYW4iLCJvZmYiLCJjbGljayIsInJlcyIsInZhbGlkIiwiaWRDYXJkSXNBdXRoIiwic2F2ZVByb2plY3QiLCJ0aGF0IiwidGhpcmRTdGVwIiwiZnJpZW5kUmFpc2VDYXNlIiwicm91dGVyIiwiY2FjaGUiLCJjdXJyZW50Um91dGUiLCJhY3Rpb24iXSwibWFwcGluZ3MiOiJBQUFBQSxNQUFNQyxPQUFPLGVBQWUsU0FBU0M7O0FBR2pDLFFBQVNDLGlCQUdUQSxhQUFhQzs7QUFHVEMsT0FBUSxXQUVKLEdBQUlDOztBQUVKSixFQUFFSyxLQUFLQyxZQUNIQyxJQUFLLGdDQUNMQyxNQUFPQyxFQUFFLFdBQ1RDLFlBQ0lDLEtBQU1QLFlBRVhRLEtBQUs7O0FBS0pDLFlBQVlDLEdBQUcsY0FBYyxtQkFBbUIsV0FDNUMsR0FBSUwsRUFBRSx5QkFBeUJNLFFBQVMsRUFBRyxDQUN2Q04sRUFBRSxtQkFBbUJPLFdBQ3BCLENBQ0RQLEVBQUUsbUJBQW1CUTs7QUFLN0JSLEVBQUUscUJBQXFCSyxHQUFHLFFBQVEsZUFBZSxXQUM3Q0wsRUFBRVMsTUFBTUMsUUFBUSxNQUFNQyxRQUN0QlAsYUFBWVEsUUFBUSxjQUFjOztBQUl0QyxHQUFJQyxpQkFBa0JDLGFBQWFDLE1BQy9CaEIsTUFBT0MsRUFBRSxtQkFDVEYsSUFBSyw2QkFDTGtCLFVBQ0lDLFVBQVcsNkJBQ1hDLE9BQVEsMkJBQ1JDLEtBQU0sS0FFVkMsV0FDSUMsS0FBTSxrQkFDTkMsTUFBTzs7QUFHWEMsZUFDSUYsS0FBTSxLQUFPLEtBQUssRUFDbEJDLE1BQU8sY0FFWEUsUUFBUyxTQUFTQyxFQUFHQyxNQUNqQixHQUFJQyxLQUFNRCxLQUFLRSxPQUFPQyxJQUFJQzs7QUFFMUJDLFNBQVM5QixZQUNMK0IsT0FBUSxTQUFTQyxFQUFFQyxLQUNmLE1BQU8sMkJBQ0gsYUFBY1AsSUFBSyxZQUNuQix3Q0FDQSxTQUVSNUIsTUFBT0MsRUFBRSxzQkFFYkksYUFBWVEsUUFBUSxjQUFjOztBQUsxQ3VCLFVBQVVwQixNQUNOaEIsTUFBT0MsRUFBRTs7QUFFVG9DLFNBQVUsYUFDWEM7O0FBR0hyQyxFQUFFLGdCQUFnQnNDLElBQUksU0FBU0MsTUFBTSxXQUNqQyxHQUFJQyxLQUFNeEMsRUFBRSxtQkFBbUJ5Qzs7OztBQU8vQixHQUFHRCxJQUFJOztBQUVILEdBQUdFLGFBQWE7O0FBRVpDLGtCQUNDLENBQ0RDLEtBQUtDLG1CQVc3QixJQUFJQyxpQkFBa0IsR0FBSXRELGFBQzFCc0QsaUJBQWlCQyxPQUFPQyxNQUFNQyxhQUFhQyIsImZpbGUiOiJmcmllbmRSYWlzZTIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ4Ym4oKS5tb2R1bGUoJ2ZyaWVuZFJhaXNlMicsZnVuY3Rpb24oWCl7XHJcblxyXG4gICAgLy/mnIvlj4vkvJfnrbnln7rnsbtcclxuICAgIGZ1bmN0aW9uIEZyaWVuZFJhaXNlMigpe1xyXG5cclxuICAgIH07XHJcbiAgICBGcmllbmRSYWlzZTIucHJvdG90eXBlID0ge1xyXG5cclxuICAgICAgICAvL+WPkei1t1xyXG4gICAgICAgIGxhdW5jaDogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZXN0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAvL+ivt+axguaooeadv1xyXG4gICAgICAgICAgICBYLnZpZXcucmVuZGVyVG1wbCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcuL3RlbXBsYXRlL2ZyaWVuZFJhaXNlXzIuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICB3aGVyZTogJCgnI21pZEJveCcpLFxyXG4gICAgICAgICAgICAgICAgcmVuZGVyRGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Q6IHRlc3REYXRhXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKXtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8v5rOo5YaM5LqL5Lu2XHJcbiAgICAgICAgICAgICAgICBldmVudFN5c3RlbS5vbignZnJpZW5kUmFpc2UnLCdpbWdMZW5ndGhfY2hhbmdlJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCAkKCcjcGljLWxpc3QtcGljdHJ1ZSBpbWcnKS5sZW5ndGggPj0zICl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN1cGxvYWQtcGljdHJ1ZScpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3VwbG9hZC1waWN0cnVlJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8v5Yig6Zmk5Zu+54mHXHJcbiAgICAgICAgICAgICAgICAkKCcjcGljLWxpc3QtcGljdHJ1ZScpLm9uKCdjbGljaycsJy5qcy1kZWwtaWNvbicsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTeXN0ZW0udHJpZ2dlcignZnJpZW5kUmFpc2UnLCdpbWdMZW5ndGhfY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL+aZrumAmuWbvueJh1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvdmVyX2ZpbGVJbnB1dCA9IFJfZmlsZVVwbG9hZC5pbml0KHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVyZTogJCgnI3VwbG9hZC1waWN0cnVlJyksXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9jb21tb24vaW1hZ2UvdXBsb2FkLWltYWdlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUEhQU0VTU0lEOiBcImZ0bzZ1azNpZ25tbGY4MjByYTlvOWFxbXY3XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWxJRDogJzFjYjRkNzhlZGE0OWMxZmIzYmZlYjhlYScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiN1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlVHlwZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcnVsZTogJyhnaWZ8anBlP2d8cG5nKScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAn5Zu+54mH5Y+q6IO95pivIGpwZyxqcGVnLGdpZixwbmcg5qC85byPJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy/mlofku7blpKflsI/pmZDliLZcclxuICAgICAgICAgICAgICAgICAgICBGaWxlU2l6ZUxpbWl0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bGU6IDEwMjQgKiAxMDI0KjIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAn5paH5Lu25aSn5bCP5LiN6IO96LaF6L+HMk0nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihlLCBkYXRhKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNyYyA9IGRhdGEucmVzdWx0LmRhdC5pbWdfdXJsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+a3u+WKoOWbvueJh1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVXRpbC5yZW5kZXJEYXRhKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oaSxlbGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnPGxpIGNsYXNzPVwianMtZGVsLWl0ZW1cIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJysgc3JjICsnXCIgYWx0PVwiXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiBjbGFzcz1cImRlbCBqcy1kZWwtaWNvblwiPjwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZTogJCgnI3BpYy1saXN0LXBpY3RydWUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTeXN0ZW0udHJpZ2dlcignZnJpZW5kUmFpc2UnLCdpbWdMZW5ndGhfY2hhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy/pqozor4Hmj5Lku7bliJ3lp4vljJZcclxuICAgICAgICAgICAgICAgIFZhbGlkYXRvci5pbml0KHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVyZTogJCgnI3NlY29uZFN0ZXBGb3JtJyksXHJcbiAgICAgICAgICAgICAgICAgICAgLy/ku6Pooajlj4LkuI7pqozor4FcclxuICAgICAgICAgICAgICAgICAgICB2YWxpRmxhZzogJ3ZhbGkteWVzJ1xyXG4gICAgICAgICAgICAgICAgfSkuc2NhbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8v5Y+R6LW35a6M5oiQXHJcbiAgICAgICAgICAgICAgICAkKCcjZmFxaS1zdWJtaXQnKS5vZmYoJ2NsaWNrJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gJCgnI3NlY29uZFN0ZXBGb3JtJykudmFsaWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLyrmtYvor5VzdGFydCovXHJcbiAgICAgICAgICAgICAgICAgICAgLy9yZXMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWRDYXJkSXNBdXRoID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAvKua1i+ivlWVuZCovXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlcyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8v5piv5ZCm6Lqr5Lu96aqM6K+BICAxIOiupOivgei/hyAgMCDmnKrorqTor4FcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaWRDYXJkSXNBdXRoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5L+d5a2Y5Y+R6LW36aG555uuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlUHJvamVjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQudGhpcmRTdGVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZnJpZW5kUmFpc2VDYXNlID0gbmV3IEZyaWVuZFJhaXNlMigpO1xyXG4gICAgZnJpZW5kUmFpc2VDYXNlWyByb3V0ZXIuY2FjaGUuY3VycmVudFJvdXRlLmFjdGlvbiBdKCk7XHJcbn0pO1xyXG5cclxuXHJcbiJdfQ==
