xbn().module("friendRaise",function(X){
//朋友众筹基类
function FriendRaise(){}FriendRaise.prototype={
//发起
launch:function(){debugger;var testData=[{name:"product",price:18}];
//请求模板
X.view.renderTmpl({url:"./template/friendRaise_1.html",where:$("#midBox"),renderData:{list:testData}}).then(function(){DataUtil.ajax({url:"/js/data/categories.json",type:"get",errMsg:"系统错误：分类信息获取失败！"}).done(function(data){if(!data.ret){R_select({jqueryEle:$(".select-case1"),obj:".select-ipt",clickFn:function(opt){
//验证特殊元素  ，如select ,  图片
firstValidator.valiSpecail({isYes:function(){return opt.isSelected},jqueryInputElement:$("[name=useFor]")})},data:data.data,render:function(i,ele){ele.icon=ele.icon?ele.icon:"xxx";return'<li data-id="'+ele.id+'">'+'<img src="'+ele.icon+'"/>'+"<span>"+ele.name+"</span>"+"</li>"},where:$(".select-option ul")})}else{alert(data.ret)}});
//加载图片上传
load_fileUpload({where:$("#upload-cover")});
//统计字数
commonUtils.count({jqueryEle:$("[name=title]")});
//验证插件初始化
var firstValidator=Validator.init({where:$("#validateForm")});firstValidator.scan();
//第一步点击
$(".complete-launch").click(function(){var res=$("#validateForm").valid();/*测试start*/
res=true;/*测试end*/
if(res){
//显示第二步
location.hash="m=friendRaise2&a=launch"}});
//加载图片上传
function load_fileUpload(opts){var cover_fileInput=R_fileUpload.init({dataType:"json",where:opts.where,url:"/common/image/upload-source",formData:{dealID:"1cb4d78eda49c1fb3bfeb8ea",type:"7"},FileTypes:{rule:"(gif|jpe?g|png)",error:"图片只能是 jpg,jpeg,gif,png 格式"},
//文件大小限制
FileSizeLimit:{rule:1024*1024*2,error:"文件大小不能超过2M"},success:function(e,data){if(data.result.ret==3){alert("你上传的图片尺寸太小，请上传大于280*210的图片");return}var src=data.result.dat.path;
//图片裁切
var currentURL=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");R_cropImage.init({img:currentURL+src,phpUrl:"/common/image/upload-crop-cover",path_output:currentURL+"/static/images/temp-lish",where:$("#imgWrap"),cutSuccess:function(res){var res=eval("("+res+")");if(!res.ret){var src=res.dat.img_url;
//添加图片
dataUtil.renderData({isClear:true,data:[1],render:function(i,ele){return"<li>"+'<img src="'+src+'" alt="">'+'<span style="display: none">修改</span>'+"</li>"},where:$("#pic-list-cover"),callback:function(where){where.find("li").on("mouseenter",function(){$(this).find("span").show()}).on("mouseleave",function(){$(this).find("span").hide()});
//加载图片上传
load_fileUpload({where:where.find("li")})}});
//验证特殊元素  ，如select ,  图片
firstValidator.valiSpecail({isYes:function(){return $(".pic-list img").length},jqueryInputElement:$("[name=imgCover]")});$("#upload-cover").hide()}else{alert(res.msg)}}})}})}
//发起协议弹层
$("#argeement").click(function(){$.layer({hideTitle:true,hideBtn:true,shade:[.5,"#000"],area:["430px","366px"],closeBtn:0,dialog:{msg:$("#tpl-agreement").html(),btns:0},success:function(layero,index){layero.find(".agree").click(function(){window.layer.close(index)})}})});
//发起专用select
function selectLaunchType(obj,callback){var select=$(obj);var selectTit=select.children(".select-click");//单击区域
var changeText=selectTit.children("span");//改变文字
var selectShow=select.children(".select-option");//点击选项
$(selectTit).click(function(e){e.stopPropagation();if($(selectShow).is(":visible")){$(selectShow).slideUp()}else{$(selectShow).slideDown().parent().siblings().find(".select-option").slideUp()}});$(document).click(function(e){if(!selectShow.is(e.target)&&selectShow.has(e.target).length===0){if($(selectShow).is(":visible")){$(selectShow).slideUp()}}});$(selectShow).find("li").click(function(){$(changeText).html($(this).find("span").html());$(selectShow).slideToggle();callback&&callback.call(this)})}
//保存发起项目
function saveProject(){var deal_images=$.map($("#pic-list-pictrue img"),function(ele,i){return $(ele).attr("src")}).join(",");dataUtil.ajax({url:"/friend/project/ajax-save-project",errMsg:"系统错误：项目保存失败！",data:{category_id:$(".select-case1 .select-text").attr("data-id"),deal_name:commonUtils.filterTag($("[name=title]").val()),target_amount:$("[name=money]").val(),deal_desc:commonUtils.newline(commonUtils.filterTag($("[name=desc]").val())),deal_cover:$("#pic-list-cover img").attr("src"),deal_images:deal_images}}).done(function(data){if(!data.ret){location.href="/friend/project/share?deal_id="+data.dat.deal_id}else{alert(data.msg)}})}})}};var friendRaiseCase=new FriendRaise;friendRaiseCase[router.cache.currentRoute.action]()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6L3Rlc3QvYnVpbGQtcm91dGVyODg4OC9idWlsZC1yb3V0ZXIvY29kZS9zcmMvanMvbW9kdWxlcy9mcmllbmRSYWlzZS5qcyJdLCJuYW1lcyI6WyJ4Ym4iLCJtb2R1bGUiLCJYIiwiRnJpZW5kUmFpc2UiLCJwcm90b3R5cGUiLCJsYXVuY2giLCJ0ZXN0RGF0YSIsIm5hbWUiLCJwcmljZSIsInZpZXciLCJyZW5kZXJUbXBsIiwidXJsIiwid2hlcmUiLCIkIiwicmVuZGVyRGF0YSIsImxpc3QiLCJ0aGVuIiwiRGF0YVV0aWwiLCJhamF4IiwidHlwZSIsImVyck1zZyIsImRvbmUiLCJkYXRhIiwicmV0IiwiUl9zZWxlY3QiLCJqcXVlcnlFbGUiLCJvYmoiLCJjbGlja0ZuIiwib3B0IiwiZmlyc3RWYWxpZGF0b3IiLCJ2YWxpU3BlY2FpbCIsImlzWWVzIiwiaXNTZWxlY3RlZCIsImpxdWVyeUlucHV0RWxlbWVudCIsInJlbmRlciIsImkiLCJlbGUiLCJpY29uIiwiaWQiLCJhbGVydCIsImxvYWRfZmlsZVVwbG9hZCIsImNvbW1vblV0aWxzIiwiY291bnQiLCJWYWxpZGF0b3IiLCJpbml0Iiwic2NhbiIsImNsaWNrIiwicmVzIiwidmFsaWQiLCJsb2NhdGlvbiIsImhhc2giLCJvcHRzIiwiY292ZXJfZmlsZUlucHV0IiwiUl9maWxlVXBsb2FkIiwiZGF0YVR5cGUiLCJmb3JtRGF0YSIsImRlYWxJRCIsIkZpbGVUeXBlcyIsInJ1bGUiLCJlcnJvciIsIkZpbGVTaXplTGltaXQiLCJzdWNjZXNzIiwiZSIsInJlc3VsdCIsInNyYyIsImRhdCIsInBhdGgiLCJjdXJyZW50VVJMIiwid2luZG93IiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInBvcnQiLCJSX2Nyb3BJbWFnZSIsImltZyIsInBocFVybCIsInBhdGhfb3V0cHV0IiwiY3V0U3VjY2VzcyIsImV2YWwiLCJpbWdfdXJsIiwiZGF0YVV0aWwiLCJpc0NsZWFyIiwiY2FsbGJhY2siLCJmaW5kIiwib24iLCJ0aGlzIiwic2hvdyIsImhpZGUiLCJsZW5ndGgiLCJtc2ciLCJsYXllciIsImhpZGVUaXRsZSIsImhpZGVCdG4iLCJzaGFkZSIsImFyZWEiLCJjbG9zZUJ0biIsImRpYWxvZyIsImh0bWwiLCJidG5zIiwibGF5ZXJvIiwiaW5kZXgiLCJjbG9zZSIsInNlbGVjdExhdW5jaFR5cGUiLCJzZWxlY3QiLCJzZWxlY3RUaXQiLCJjaGlsZHJlbiIsImNoYW5nZVRleHQiLCJzZWxlY3RTaG93Iiwic3RvcFByb3BhZ2F0aW9uIiwiaXMiLCJzbGlkZVVwIiwic2xpZGVEb3duIiwicGFyZW50Iiwic2libGluZ3MiLCJkb2N1bWVudCIsInRhcmdldCIsImhhcyIsInNsaWRlVG9nZ2xlIiwiY2FsbCIsInNhdmVQcm9qZWN0IiwiZGVhbF9pbWFnZXMiLCJtYXAiLCJhdHRyIiwiam9pbiIsImNhdGVnb3J5X2lkIiwiZGVhbF9uYW1lIiwiZmlsdGVyVGFnIiwidmFsIiwidGFyZ2V0X2Ftb3VudCIsImRlYWxfZGVzYyIsIm5ld2xpbmUiLCJkZWFsX2NvdmVyIiwiaHJlZiIsImRlYWxfaWQiLCJmcmllbmRSYWlzZUNhc2UiLCJyb3V0ZXIiLCJjYWNoZSIsImN1cnJlbnRSb3V0ZSIsImFjdGlvbiJdLCJtYXBwaW5ncyI6IkFBQUFBLE1BQU1DLE9BQU8sY0FBYyxTQUFTQzs7QUFJaEMsUUFBU0MsZ0JBR1RBLFlBQVlDOztBQUdSQyxPQUFRLFdBRWhCLFFBQ1ksSUFBSUMsWUFDQUMsS0FBTSxVQUNOQyxNQUFPOztBQVNYTixFQUFFTyxLQUFLQyxZQUNIQyxJQUFLLGdDQUNMQyxNQUFPQyxFQUFFLFdBQ1RDLFlBQ0lDLEtBQU1ULFlBRVhVLEtBQUssV0FHSkMsU0FBU0MsTUFDTFAsSUFBSywyQkFDTFEsS0FBTSxNQUNOQyxPQUFTLG1CQUNWQyxLQUFLLFNBQVNDLE1BQ2IsSUFBSUEsS0FBS0MsSUFBSSxDQUNUQyxVQUNJQyxVQUFXWixFQUFFLGlCQUNiYSxJQUFLLGNBQ0xDLFFBQVEsU0FBU0M7O0FBRWJDLGVBQWVDLGFBQ1hDLE1BQU8s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QWFBLGVBRWxCbEcsS0FBSyxTQUFTQyxNQUNiLElBQUlBLEtBQUtDLElBQUksQ0FDVDBCLFNBQVNrRixLQUFNLGlDQUFpQzdHLEtBQUsyQyxJQUFJbUUsWUFDdEQsQ0FDSDdGLE1BQU1qQixLQUFLa0UsWUFVbkMsSUFBSTZDLGlCQUFrQixHQUFJbEksWUFDMUJrSSxpQkFBaUJDLE9BQU9DLE1BQU1DLGFBQWFDIiwiZmlsZSI6ImZyaWVuZFJhaXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsieGJuKCkubW9kdWxlKCdmcmllbmRSYWlzZScsZnVuY3Rpb24oWCl7XHJcblxyXG5cclxuICAgIC8v5pyL5Y+L5LyX56255Z+657G7XHJcbiAgICBmdW5jdGlvbiBGcmllbmRSYWlzZSgpe1xyXG5cclxuICAgIH07XHJcbiAgICBGcmllbmRSYWlzZS5wcm90b3R5cGUgPSB7XHJcblxyXG4gICAgICAgIC8v5Y+R6LW3XHJcbiAgICAgICAgbGF1bmNoOiBmdW5jdGlvbigpe1xyXG5cclxuZGVidWdnZXI7XHJcbiAgICAgICAgICAgIHZhciB0ZXN0RGF0YSA9IFt7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiAncHJvZHVjdCcsXHJcbiAgICAgICAgICAgICAgICBwcmljZTogMThcclxuICAgICAgICAgICAgfV07XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8v6K+35rGC5qih5p2/XHJcbiAgICAgICAgICAgIFgudmlldy5yZW5kZXJUbXBsKHtcclxuICAgICAgICAgICAgICAgIHVybDogJy4vdGVtcGxhdGUvZnJpZW5kUmFpc2VfMS5odG1sJyxcclxuICAgICAgICAgICAgICAgIHdoZXJlOiAkKCcjbWlkQm94JyksXHJcbiAgICAgICAgICAgICAgICByZW5kZXJEYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogdGVzdERhdGFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpe1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBEYXRhVXRpbC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvanMvZGF0YS9jYXRlZ29yaWVzLmpzb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdnZXQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGVyck1zZyA6ICfns7vnu5/plJnor6/vvJrliIbnsbvkv6Hmga/ojrflj5blpLHotKXvvIEnXHJcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKCFkYXRhLnJldCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJfc2VsZWN0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxdWVyeUVsZTogJCgnLnNlbGVjdC1jYXNlMScpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqOiAnLnNlbGVjdC1pcHQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tGbjpmdW5jdGlvbihvcHQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6aqM6K+B54m55q6K5YWD57SgICDvvIzlpoJzZWxlY3QgLCAg5Zu+54mHXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RWYWxpZGF0b3IudmFsaVNwZWNhaWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1llczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHQuaXNTZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqcXVlcnlJbnB1dEVsZW1lbnQ6ICQoJ1tuYW1lPXVzZUZvcl0nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEuZGF0YSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oaSxlbGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZS5pY29uID0gZWxlLmljb24/IGVsZS5pY29uOiAneHh4JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJzxsaSBkYXRhLWlkPVwiJysgZWxlLmlkICsnXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8aW1nIHNyYz1cIicrIGVsZS5pY29uICsnXCIvPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4+JysgZWxlLm5hbWUgKyc8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8L2xpPidcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6ICQoJy5zZWxlY3Qtb3B0aW9uIHVsJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEucmV0KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL+WKoOi9veWbvueJh+S4iuS8oFxyXG4gICAgICAgICAgICAgICAgbG9hZF9maWxlVXBsb2FkKHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVyZTogJCgnI3VwbG9hZC1jb3ZlcicpXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgICAgIC8v57uf6K6h5a2X5pWwXHJcbiAgICAgICAgICAgICAgICBjb21tb25VdGlscy5jb3VudCh7XHJcbiAgICAgICAgICAgICAgICAgICAganF1ZXJ5RWxlOiAkKCdbbmFtZT10aXRsZV0nKVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL+mqjOivgeaPkuS7tuWIneWni+WMllxyXG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0VmFsaWRhdG9yID0gVmFsaWRhdG9yLmluaXQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlOiAkKCcjdmFsaWRhdGVGb3JtJylcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlyc3RWYWxpZGF0b3Iuc2NhbigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8v56ys5LiA5q2l54K55Ye7XHJcbiAgICAgICAgICAgICAgICAkKCcuY29tcGxldGUtbGF1bmNoJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gJCgnI3ZhbGlkYXRlRm9ybScpLnZhbGlkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8q5rWL6K+Vc3RhcnQqL1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLyrmtYvor5VlbmQqL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZihyZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+aYvuekuuesrOS6jOatpVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gJ209ZnJpZW5kUmFpc2UyJmE9bGF1bmNoJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8v5Yqg6L295Zu+54mH5LiK5LygXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBsb2FkX2ZpbGVVcGxvYWQob3B0cyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdmVyX2ZpbGVJbnB1dCA9IFJfZmlsZVVwbG9hZC5pbml0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6XCJqc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiBvcHRzLndoZXJlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL2NvbW1vbi9pbWFnZS91cGxvYWQtc291cmNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFsSUQ6ICcxY2I0ZDc4ZWRhNDljMWZiM2JmZWI4ZWEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCI3XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZVR5cGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlOiAnKGdpZnxqcGU/Z3xwbmcpJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAn5Zu+54mH5Y+q6IO95pivIGpwZyxqcGVnLGdpZixwbmcg5qC85byPJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+aWh+S7tuWkp+Wwj+mZkOWItlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlU2l6ZUxpbWl0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBydWxlOiAxMDI0ICogMTAyNCoyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICfmlofku7blpKflsI/kuI3og73otoXov4cyTSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZSwgZGF0YSl7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZGF0YS5yZXN1bHQucmV0ID09IDMpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfkvaDkuIrkvKDnmoTlm77niYflsLrlr7jlpKrlsI/vvIzor7fkuIrkvKDlpKfkuo4yODAqMjEw55qE5Zu+54mHJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSBkYXRhLnJlc3VsdC5kYXQucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5Zu+54mH6KOB5YiHXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFVSTCA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICh3aW5kb3cubG9jYXRpb24ucG9ydCA/IFwiOlwiICsgd2luZG93LmxvY2F0aW9uLnBvcnQgOiBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJfY3JvcEltYWdlLmluaXQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltZzogY3VycmVudFVSTCArIHNyYyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaHBVcmw6ICcvY29tbW9uL2ltYWdlL3VwbG9hZC1jcm9wLWNvdmVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoX291dHB1dDogY3VycmVudFVSTCArICcvc3RhdGljL2ltYWdlcy90ZW1wLWxpc2gnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiAkKCcjaW1nV3JhcCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1dFN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcyA9IGV2YWwoJygnKyByZXMgKycpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFyZXMucmV0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcmMgPSByZXMuZGF0LmltZ191cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+a3u+WKoOWbvueJh1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVV0aWwucmVuZGVyRGF0YSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDbGVhcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbihpLGVsZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnPGxpPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxpbWcgc3JjPVwiJysgc3JjICsnXCIgYWx0PVwiXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+5L+u5pS5PC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbGk+JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZXJlOiAkKCcjcGljLWxpc3QtY292ZXInKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24od2hlcmUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVyZS5maW5kKCdsaScpLm9uKCdtb3VzZWVudGVyJyxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5maW5kKCdzcGFuJykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5vbignbW91c2VsZWF2ZScsZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZmluZCgnc3BhbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WKoOi9veWbvueJh+S4iuS8oFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkX2ZpbGVVcGxvYWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlcmU6IHdoZXJlLmZpbmQoJ2xpJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy/pqozor4HnibnmrorlhYPntKAgIO+8jOWmgnNlbGVjdCAsICDlm77niYdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0VmFsaWRhdG9yLnZhbGlTcGVjYWlsKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1llczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJy5waWMtbGlzdCBpbWcnKS5sZW5ndGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxdWVyeUlucHV0RWxlbWVudDogJCgnW25hbWU9aW1nQ292ZXJdJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3VwbG9hZC1jb3ZlcicpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChyZXMubXNnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8v5Y+R6LW35Y2P6K6u5by55bGCXHJcbiAgICAgICAgICAgICAgICAkKCcjYXJnZWVtZW50JykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAkLmxheWVyKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGlkZVRpdGxlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoaWRlQnRuOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFkZTogWzAuNSwgJyMwMDAnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXJlYTpbJzQzMHB4JywnMzY2cHgnXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2VCdG46IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpYWxvZzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiAkKCcjdHBsLWFncmVlbWVudCcpLmh0bWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ0bnM6IDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczpmdW5jdGlvbihsYXllcm8sIGluZGV4KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyby5maW5kKCcuYWdyZWUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sYXllci5jbG9zZShpbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL+WPkei1t+S4k+eUqHNlbGVjdFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2VsZWN0TGF1bmNoVHlwZShvYmosY2FsbGJhY2spXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdCA9ICQob2JqKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0VGl0ID0gc2VsZWN0LmNoaWxkcmVuKCcuc2VsZWN0LWNsaWNrJyk7IC8v5Y2V5Ye75Yy65Z+fXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5nZVRleHQgPSBzZWxlY3RUaXQuY2hpbGRyZW4oJ3NwYW4nKTsvL+aUueWPmOaWh+Wtl1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RTaG93ID0gc2VsZWN0LmNoaWxkcmVuKCcuc2VsZWN0LW9wdGlvbicpIC8v54K55Ye76YCJ6aG5XHJcbiAgICAgICAgICAgICAgICAgICAgJChzZWxlY3RUaXQpLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZigkKHNlbGVjdFNob3cpLmlzKCc6dmlzaWJsZScpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoc2VsZWN0U2hvdykuc2xpZGVVcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHNlbGVjdFNob3cpLnNsaWRlRG93bigpLnBhcmVudCgpLnNpYmxpbmdzKCkuZmluZCgnLnNlbGVjdC1vcHRpb24nKS5zbGlkZVVwKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmNsaWNrKGZ1bmN0aW9uKGUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZighc2VsZWN0U2hvdy5pcyhlLnRhcmdldCkgJiYgc2VsZWN0U2hvdy5oYXMoZS50YXJnZXQpLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoJChzZWxlY3RTaG93KS5pcygnOnZpc2libGUnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHNlbGVjdFNob3cpLnNsaWRlVXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgJChzZWxlY3RTaG93KS5maW5kKCdsaScpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoY2hhbmdlVGV4dCkuaHRtbCgkKHRoaXMpLmZpbmQoJ3NwYW4nKS5odG1sKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHNlbGVjdFNob3cpLnNsaWRlVG9nZ2xlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayYmY2FsbGJhY2suY2FsbCggdGhpcyApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL+S/neWtmOWPkei1t+mhueebrlxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc2F2ZVByb2plY3QoKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVhbF9pbWFnZXMgPSAkLm1hcCgkKCcjcGljLWxpc3QtcGljdHJ1ZSBpbWcnKSxmdW5jdGlvbihlbGUsaSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkKGVsZSkuYXR0cignc3JjJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuam9pbignLCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBkYXRhVXRpbC5hamF4KHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL2ZyaWVuZC9wcm9qZWN0L2FqYXgtc2F2ZS1wcm9qZWN0JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyTXNnOiAn57O757uf6ZSZ6K+v77ya6aG555uu5L+d5a2Y5aSx6LSl77yBJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnlfaWQ6ICQoJy5zZWxlY3QtY2FzZTEgLnNlbGVjdC10ZXh0JykuYXR0cignZGF0YS1pZCcpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVhbF9uYW1lOiBjb21tb25VdGlscy5maWx0ZXJUYWcoICQoJ1tuYW1lPXRpdGxlXScpLnZhbCgpICksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRfYW1vdW50OiAkKCdbbmFtZT1tb25leV0nKS52YWwoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYWxfZGVzYzogY29tbW9uVXRpbHMubmV3bGluZSggY29tbW9uVXRpbHMuZmlsdGVyVGFnKCAkKCdbbmFtZT1kZXNjXScpLnZhbCgpICkgKSAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFsX2NvdmVyOiAkKCcjcGljLWxpc3QtY292ZXIgaW1nJykuYXR0cignc3JjJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFsX2ltYWdlczogZGVhbF9pbWFnZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24oZGF0YSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFkYXRhLnJldCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmPSAnL2ZyaWVuZC9wcm9qZWN0L3NoYXJlP2RlYWxfaWQ9JytkYXRhLmRhdC5kZWFsX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5tc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZnJpZW5kUmFpc2VDYXNlID0gbmV3IEZyaWVuZFJhaXNlKCk7XHJcbiAgICBmcmllbmRSYWlzZUNhc2VbIHJvdXRlci5jYWNoZS5jdXJyZW50Um91dGUuYWN0aW9uIF0oKTtcclxufSk7XHJcblxyXG5cclxuIl19
